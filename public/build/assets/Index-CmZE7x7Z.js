import{j as e,H as h,r as c,L as g}from"./app-JIdYpwxT.js";import{A as p}from"./app-layout-CP1kQCKl.js";import{B as o}from"./app-logo-icon-BIGoJGgz.js";import{I as f}from"./input-BT77qZkt.js";import{L as d}from"./label-DNWLZ437.js";/* empty css            */import"./index-KaNe2HdS.js";import"./index-BjwqokAp.js";import"./createLucideIcon-3xHHv-a1.js";import"./index-a0w-sctn.js";import"./index-CMWG4mbA.js";import"./building-CAoCWP5D.js";import"./book-open-BQstZgwA.js";const b=[{title:"Admin Dashboard",href:"/admin"},{title:"Applications",href:"/admin/applications"}];function $({applications:a,committees:x,filters:l}){const i=(t,r)=>{const s=new URLSearchParams(window.location.search);r==="all"||r===""?s.delete(t):s.set(t,r),c.get(`/admin/applications?${s.toString()}`)},m=t=>{t.preventDefault();const s=new FormData(t.currentTarget).get("search");i("search",s)},u=t=>{switch(t){case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-400";case"reviewed":return"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-400";case"accepted":return"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-400";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/50 dark:text-gray-400"}};return e.jsxs(p,{breadcrumbs:b,children:[e.jsx(h,{title:"Applications Management"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Applications"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Manage and review student applications (",a.meta?.total||a.data?.length||0," ","total)"]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx(o,{asChild:!0,children:e.jsxs("a",{href:`/admin/applications/export?${new URLSearchParams({status:l.status||"all",committee:l.committee||"all",search:l.search||""}).toString()}`,className:"inline-flex items-center",rel:"link",target:"_blank",children:[e.jsx("svg",{className:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export Excel"]})})})]}),e.jsx("div",{className:"mb-6 rounded-lg bg-white p-4 shadow-sm dark:bg-gray-800",children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"search",children:"Search"}),e.jsx("form",{onSubmit:m,children:e.jsx(f,{id:"search",name:"search",type:"text",placeholder:"Name or email...",defaultValue:l.search})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"status",children:"Status"}),e.jsxs("select",{id:"status",className:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:ring-1 focus-visible:ring-ring focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",value:l.status,onChange:t=>i("status",t.target.value),children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"reviewed",children:"Reviewed"}),e.jsx("option",{value:"accepted",children:"Accepted"}),e.jsx("option",{value:"rejected",children:"Rejected"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"committee",children:"Committee"}),e.jsxs("select",{id:"committee",className:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:ring-1 focus-visible:ring-ring focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",value:l.committee,onChange:t=>i("committee",t.target.value),children:[e.jsx("option",{value:"all",children:"All Committees"}),x.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"sort",children:"Sort by"}),e.jsxs("select",{id:"sort",className:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:ring-1 focus-visible:ring-ring focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",value:`${l.sort_by}_${l.sort_order}`,onChange:t=>{const[r,s]=t.target.value.split("_"),n=new URLSearchParams(window.location.search);n.set("sort_by",r),n.set("sort_order",s),c.get(`/admin/applications?${n.toString()}`)},children:[e.jsx("option",{value:"submitted_at_desc",children:"Newest First"}),e.jsx("option",{value:"submitted_at_asc",children:"Oldest First"}),e.jsx("option",{value:"full_name_asc",children:"Name A-Z"}),e.jsx("option",{value:"full_name_desc",children:"Name Z-A"}),e.jsx("option",{value:"status_asc",children:"Status A-Z"})]})]})]})}),e.jsx("div",{className:"overflow-x-auto rounded-lg bg-white shadow-sm dark:bg-gray-800",children:e.jsxs("table",{className:"w-full table-auto",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase dark:text-gray-300",children:"Applicant"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase dark:text-gray-300",children:"Education"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase dark:text-gray-300",children:"Committees"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase dark:text-gray-300",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase dark:text-gray-300",children:"Submitted"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase dark:text-gray-300",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 bg-white dark:divide-gray-600 dark:bg-gray-800",children:a.data.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"No applications found matching your criteria."})}):a.data.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.full_name}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.email})]})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:t.university}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t.faculty," -"," ",t.academic_year]})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:t.committee_choices?.map((r,s)=>e.jsx("span",{className:"inline-flex items-center rounded-full bg-blue-100 px-2 py-1 text-xs font-medium text-blue-800 dark:bg-blue-900/50 dark:text-blue-400",children:r},s))})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${u(t.status)}`,children:t.status})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400",children:new Date(t.submitted_at).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4",children:e.jsx(o,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(g,{href:`/admin/applications/${t.id}`,children:"View Details"})})})]},t.id))})]})}),a.meta&&(a.meta.last_page||0)>1&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Showing ",a.meta.from||1," to"," ",a.meta.to||a.data?.length||0," ","of ",a.meta.total||0," results"]}),e.jsx("div",{className:"flex gap-2",children:a.links?.map((t,r)=>e.jsx(o,{variant:t.active?"default":"outline",size:"sm",disabled:!t.url,onClick:()=>t.url&&c.get(t.url),dangerouslySetInnerHTML:{__html:t.label}},r))||null})]})]})]})}export{$ as default};
